<h1 class="ui header">
  Lead
  <div class="sub header">A lead represents a route from origin to destination in a specific time</div>
</h1>

<div class="ui inverted section divider"></div>

<div class="ui three column grid">
  <div class="column">
    <h4 class="ui top attached block header">Lead</h4>
    <div class="ui middle attached segment">
      <table>
        <tr>
          <td><h3>Start</h3></td>
          <td><span>{{((lead | async).start | customDate)}}</span></td>
        </tr>

        <tr>
          <td><h3>End</h3></td>
          <td><span>{{((lead | async).end | customDate)}}</span></td>
        </tr>

        <tr>
          <td><h3>Type</h3></td>
          <td>
            <div class="ui blue label">{{(lead | async).getTypeToString()}}</div>
          </td>
        </tr>

        <tr>
          <td><h3>Status</h3></td>
          <td>
            <div class="ui green label">{{(lead | async).getStatusToString()}}</div>
          </td>
        </tr>

        <tr>
          <td><h3>Origin</h3></td>
          <td><span>{{(lead | async).origin.address}}</span></td>
        </tr>

        <tr>
          <td><h3>Destination</h3></td>
          <td><span>{{(lead | async).destination.address}}</span></td>
        </tr>
      </table>
    </div>
    <div class="ui bottom attached segment">
      <div class="ui mini buttons">
        <a class="ui blue compact button" [routerLink]="['/lead']">
          <i class="reply icon"> </i>
          Back
        </a>
        <button class="ui green compact button"
                [routerLink]="['/', { outlets: { popup: 'lead/'+ (lead | async).id + '/edit'} }]"
                replaceUrl="true">
          <i class="write icon"></i>
          Edit
        </button>
        <button class="ui red compact button"
                [routerLink]="['/', { outlets: { popup: 'lead/'+ (lead | async).id + '/delete'} }]"
                replaceUrl="true">
          <i class="remove icon"> </i>
          Delete
        </button>
      </div>
    </div>
  </div>

  <div class="column">
    <h4 class="ui top attached block header">Estimates</h4>
    <div class="ui bottom attached segment">
      <div *ngFor="let estimate of (lead | async).estimates" class="ui card">
        <div class="content">
          <table>
            <tr>
              <td><h3>Name</h3></td>
              <td><span>{{estimate.name}}</span></td>
            </tr>
            <tr>
              <td><h3>Quantity</h3></td>
              <td><span>{{estimate.quantity}}</span></td>
            </tr>
            <tr>
              <td><h3>Price</h3></td>
              <td><span>{{estimate.price}}</span></td>
            </tr>
          </table>
        </div>
        <div class="ui two mini bottom attached buttons">
          <a class="ui green button">
            <i class="write icon"> </i>
            Edit
          </a>
          <a class="ui red button">
            <i class="remove icon"> </i>
            Delete
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="column">
    <h4 class="ui top attached block header">Inventories</h4>
    <div class="ui bottom attached segment">
      <div *ngFor="let inventory of (lead | async).inventories" class="ui card">
        <div class="content">
          <table>
            <tr>
              <td><h3>Name</h3></td>
              <td><span>{{inventory.name}}</span></td>
            </tr>
            <tr>
              <td><h3>Category</h3></td>
              <td><span>{{inventory.category}}</span></td>
            </tr>
            <tr>
              <td><h3>Quantity</h3></td>
              <td><span>{{inventory.quantity}}</span></td>
            </tr>
            <tr>
              <td><h3>Weight</h3></td>
              <td><span>{{inventory.weight}}</span></td>
            </tr>
            <tr>
              <td><h3>Volume</h3></td>
              <td><span>{{inventory.volume}}</span></td>
            </tr>
          </table>
        </div>
        <div class="ui two mini bottom attached buttons">
          <a class="ui green button">
            <i class="write icon"> </i>
            Edit
          </a>
          <a class="ui red button">
            <i class="remove icon"> </i>
            Delete
          </a>
        </div>
      </div>
    </div>
  </div>

  <div class="column">
    <h4 class="ui top attached block header">Customer</h4>
    <div class="ui middle attached segment">
      <table>
        <tr>
          <td><h3>Name</h3></td>
          <td><span>{{(customer | async).firstName}} {{(customer | async).lastName}}</span></td>
        </tr>

        <tr>
          <td><h3>Phone</h3></td>
          <td><span>{{(customer | async).phone}}</span></td>
        </tr>

        <tr>
          <td><h3>Email</h3></td>
          <td><span>{{(customer | async).email}}</span></td>
        </tr>
      </table>
    </div>
    <div class="ui bottom attached segment">
      <div class="ui mini buttons">
        <a [routerLink]="['/customer', (customer | async).id]" class="ui blue compact button">
          <i class="unhide icon"> </i>
          View
        </a>
        <a class="ui red compact button">
          <i class="remove icon"> </i>
          Delete
        </a>
      </div>
    </div>
  </div>

  <div class="column" >
    <h4 class="ui top attached block header">Employees</h4>
    <div class="ui bottom attached segment">
      <div *ngFor="let employee of employees | async" class="ui card">
        <div class="content">
          <table>
            <tr>
              <td><h3>Name</h3></td>
              <td><span>{{employee.firstName}} {{employee.lastName}}</span></td>
            </tr>

            <tr>
              <td><h3>Phone</h3></td>
              <td><span>{{employee.phone}}</span></td>
            </tr>

            <tr>
              <td><h3>Email</h3></td>
              <td><span>{{employee.email}}</span></td>
            </tr>
          </table>
        </div>
        <div class="ui two mini bottom attached buttons">
          <a [routerLink]="['/employee', employee.id]" class="ui blue button">
            <i class="unhide icon"> </i>
            View
          </a>
          <a class="ui red button">
            <i class="remove icon"> </i>
            Delete
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
